<div class="dialog-container">
  <div class="dialog-header">
    <h2 mat-dialog-title>Novo Pagamento</h2>
    <button mat-icon-button (click)="fecharDialog()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="dialog-content">
    <form (ngSubmit)="criarPagamento()">
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>ID do Pagamento</mat-label>
          <input matInput type="number" [(ngModel)]="novoPagamento.idPagamento" name="idPagamento">
        </mat-form-field>
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>CPF ou CNPJ</mat-label>
          <input matInput [(ngModel)]="novoPagamento.cpfCnpj" name="identificacao">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Método de pagamento</mat-label>
          <mat-select [(ngModel)]="novoPagamento.metodoPagamento" name="metodoPagamento">
            <mat-option value="PIX">PIX</mat-option>
            <mat-option value="Cartao de Credito">Cartão de Credito</mat-option>
            <mat-option value="Cartao de Debito">Cartao de Debito</mat-option>
            <mat-option value="Boleto">Boleto</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field
          *ngIf="novoPagamento.metodoPagamento === 'Cartao de Credito' || novoPagamento.metodoPagamento === 'Cartao de Debito'"
          appearance="outline" class="w-full">
          <mat-label>Número do Cartão</mat-label>
          <input matInput [(ngModel)]="novoPagamento.numeroCartao" name="numeroCartao">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Valor</mat-label>
          <input matInput type="number" [(ngModel)]="novoPagamento.valorPagamento" name="valor">
        </mat-form-field>
      </div>

      <div mat-dialog-actions align="end">
          <button mat-button (click)="fecharDialog()">Cancelar</button>
          <button mat-flat-button color="primary"
          [disabled]="!novoPagamento.cpfCnpj || !novoPagamento.valorPagamento || !novoPagamento.metodoPagamento || isSaving">
              <mat-icon>save</mat-icon>
              Salvar Pagamento
            </button>
      </div>
    </form>

  </div>
</div>
